{% extends "base.html" %}

{% block content %}

<!-- Profile Cover -->
<div class="w-full h-64 bg-slate-300 relative">
  <img src="{{ user.cover_picture or 'https://images.unsplash.com/photo-1548883151-3b92dbd284dc?q=80&w=3133&auto=format&fit=crop' }}" alt="Profile cover" class="object-cover w-full h-full" />
  <div class="absolute inset-0 bg-black bg-opacity-40 flex items-end gap-4 p-4">
    <img src="{{ user.profile_picture or 'https://randomuser.me/api/portraits/men/44.jpg' }}" alt="Profile picture" class="rounded-full border-4 border-white w-32 h-32 object-cover shadow-md" />
    <div>
      <h1 class="text-2xl font-bold text-white">{{ user.name }}</h1>
      <p class="text-sm text-white">{{ user.job_title }}</p>
      <p class="text-xs text-slate-100 mt-1">{{ user.hobbies | length }} Hobbies</p>
    </div>
  </div>
</div>

<!-- Main Content Area -->
<div class="max-w-6xl mx-auto mt-4 flex gap-4 px-4">
  <!-- Left Sidebar: Profile Info -->
  <aside class="w-1/3 bg-white rounded-xl shadow p-4">
    <h2 class="text-lg font-semibold mb-2 text-slate-800">Profile</h2>
    <p class="text-sm text-slate-600 mb-2">{{ user.bio }}</p>

    <h3 class="text-md font-semibold text-slate-800 mt-4">Hobbies</h3>
    <ul class="list-disc list-inside text-sm text-slate-600">
      {% for hobby in user.hobbies %}
      <li>{{ hobby }}</li>
      {% endfor %}
    </ul>

    <h3 class="text-md font-semibold text-slate-800 mt-4">Contact</h3>
    <p class="text-sm text-slate-600">ðŸ“§ {{ user.email }}</p>
    <p class="text-sm text-slate-600">ðŸ“ž {{ user.phone }}</p>
  </aside>

  <!-- Main Feed -->
  <main class="flex-1 space-y-4">
    <div class="bg-white rounded-xl shadow p-4">
      <h2 class="text-lg font-semibold text-slate-800 mb-2">Upcoming Events</h2>
      <p class="text-sm text-slate-600">No upcoming events. Check the <a href="https://student.uwa.edu.au" class="text-indigo-600 hover:underline">university portal</a> for updates.</p>
    </div>

    <!-- Recent Updates -->
    {% for post in user.posts %}
    <div class="bg-white rounded-xl shadow p-4">
      <div class="flex items-center gap-2">
        <img src="{{ user.profile_picture or 'https://randomuser.me/api/portraits/men/44.jpg' }}" alt="Profile picture" class="rounded-full w-10 h-10 object-cover" />
        <div>
          <h3 class="text-sm font-semibold text-slate-800">{{ post.author }}</h3>
          <p class="text-xs text-slate-500">{{ post.timestamp }}</p>
        </div>
      </div>
      <p class="mt-2 text-slate-700 text-sm">{{ post.text }}</p>
      {% if post.image %}
      <img src="{{ post.image }}" alt="Post image" class="mt-2 rounded-lg shadow-sm" />
      {% endif %}
    </div>
    {% endfor %}
  </main>
</div>

{% endblock %}
